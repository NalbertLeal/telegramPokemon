let pokemons = [{"name":"ivysaur"},{"name":"venusaur"},{"name":"charmander"},{"name":"charmeleon"},{"name":"charizard"},{"name":"squirtle"},{"name":"wartortle"},{"name":"blastoise"},{"name":"caterpie"},{"name":"metapod"},{"name":"butterfree"},{"name":"weedle"},{"name":"kakuna"},{"name":"beedrill"},{"name":"pidgey"},{"name":"pidgeotto"},{"name":"pidgeot"},{"name":"rattata"},{"name":"raticate"},{"name":"spearow"},{"name":"fearow"},{"name":"ekans"},{"name":"arbok"},{"name":"pikachu"},{"name":"raichu"},{"name":"sandshrew"},{"name":"sandslash"},{"name":"nidoran-f"},{"name":"nidorina"},{"name":"nidoqueen"},{"name":"nidoran-m"},{"name":"nidorino"},{"name":"nidoking"},{"name":"clefairy"},{"name":"clefable"},{"name":"vulpix"},{"name":"ninetales"},{"name":"jigglypuff"},{"name":"wigglytuff"},{"name":"zubat"},{"name":"golbat"},{"name":"oddish"},{"name":"gloom"},{"name":"vileplume"},{"name":"paras"},{"name":"parasect"},{"name":"venonat"},{"name":"venomoth"},{"name":"diglett"},{"name":"dugtrio"},{"name":"meowth"},{"name":"persian"},{"name":"psyduck"},{"name":"golduck"},{"name":"mankey"},{"name":"primeape"},{"name":"growlithe"},{"name":"arcanine"},{"name":"poliwag"},{"name":"poliwhirl"},{"name":"poliwrath"},{"name":"abra"},{"name":"kadabra"},{"name":"alakazam"},{"name":"machop"},{"name":"machoke"},{"name":"machamp"},{"name":"bellsprout"},{"name":"weepinbell"},{"name":"victreebel"},{"name":"tentacool"},{"name":"tentacruel"},{"name":"geodude"},{"name":"graveler"},{"name":"golem"},{"name":"ponyta"},{"name":"rapidash"},{"name":"slowpoke"},{"name":"slowbro"},{"name":"magnemite"},{"name":"magneton"},{"name":"farfetchd"},{"name":"doduo"},{"name":"dodrio"},{"name":"seel"},{"name":"dewgong"},{"name":"grimer"},{"name":"muk"},{"name":"shellder"},{"name":"cloyster"},{"name":"gastly"},{"name":"haunter"},{"name":"gengar"},{"name":"onix"},{"name":"drowzee"},{"name":"hypno"},{"name":"krabby"},{"name":"kingler"},{"name":"voltorb"},{"name":"electrode"},{"name":"exeggcute"},{"name":"exeggutor"},{"name":"cubone"},{"name":"marowak"},{"name":"hitmonlee"},{"name":"hitmonchan"},{"name":"lickitung"},{"name":"koffing"},{"name":"weezing"},{"name":"rhyhorn"},{"name":"rhydon"},{"name":"chansey"},{"name":"tangela"},{"name":"kangaskhan"},{"name":"horsea"},{"name":"seadra"},{"name":"goldeen"},{"name":"seaking"},{"name":"staryu"},{"name":"starmie"},{"name":"mr-mime"},{"name":"scyther"},{"name":"jynx"},{"name":"electabuzz"},{"name":"magmar"},{"name":"pinsir"},{"name":"tauros"},{"name":"magikarp"},{"name":"gyarados"},{"name":"lapras"},{"name":"ditto"},{"name":"eevee"},{"name":"vaporeon"},{"name":"jolteon"},{"name":"flareon"},{"name":"porygon"},{"name":"omanyte"},{"name":"omastar"},{"name":"kabuto"},{"name":"kabutops"},{"name":"aerodactyl"},{"name":"snorlax"},{"name":"articuno"},{"name":"zapdos"},{"name":"moltres"},{"name":"dratini"},{"name":"dragonair"},{"name":"dragonite"},{"name":"mewtwo"},{"name":"mew"},{"name":"chikorita"},{"name":"bayleef"},{"name":"meganium"},{"name":"cyndaquil"},{"name":"quilava"},{"name":"typhlosion"},{"name":"totodile"},{"name":"croconaw"},{"name":"feraligatr"},{"name":"sentret"},{"name":"furret"},{"name":"hoothoot"},{"name":"noctowl"},{"name":"ledyba"},{"name":"ledian"},{"name":"spinarak"},{"name":"ariados"},{"name":"crobat"},{"name":"chinchou"},{"name":"lanturn"},{"name":"pichu"},{"name":"cleffa"},{"name":"igglybuff"},{"name":"togepi"},{"name":"togetic"},{"name":"natu"},{"name":"xatu"},{"name":"mareep"},{"name":"flaaffy"},{"name":"ampharos"},{"name":"bellossom"},{"name":"marill"},{"name":"azumarill"},{"name":"sudowoodo"},{"name":"politoed"},{"name":"hoppip"},{"name":"skiploom"},{"name":"jumpluff"},{"name":"aipom"},{"name":"sunkern"},{"name":"sunflora"},{"name":"yanma"},{"name":"wooper"},{"name":"quagsire"},{"name":"espeon"},{"name":"umbreon"},{"name":"murkrow"},{"name":"slowking"},{"name":"misdreavus"},{"name":"unown"},{"name":"wobbuffet"},{"name":"girafarig"},{"name":"pineco"},{"name":"forretress"},{"name":"dunsparce"},{"name":"gligar"},{"name":"steelix"},{"name":"snubbull"},{"name":"granbull"},{"name":"qwilfish"},{"name":"scizor"},{"name":"shuckle"},{"name":"heracross"},{"name":"sneasel"},{"name":"teddiursa"},{"name":"ursaring"},{"name":"slugma"},{"name":"magcargo"},{"name":"swinub"},{"name":"piloswine"},{"name":"corsola"},{"name":"remoraid"},{"name":"octillery"},{"name":"delibird"},{"name":"mantine"},{"name":"skarmory"},{"name":"houndour"},{"name":"houndoom"},{"name":"kingdra"},{"name":"phanpy"},{"name":"donphan"},{"name":"porygon2"},{"name":"stantler"},{"name":"smeargle"},{"name":"tyrogue"},{"name":"hitmontop"},{"name":"smoochum"},{"name":"elekid"},{"name":"magby"},{"name":"miltank"},{"name":"blissey"},{"name":"raikou"},{"name":"entei"},{"name":"suicune"},{"name":"larvitar"},{"name":"pupitar"},{"name":"tyranitar"},{"name":"lugia"},{"name":"ho-oh"},{"name":"celebi"},{"name":"treecko"},{"name":"grovyle"},{"name":"sceptile"},{"name":"torchic"},{"name":"combusken"},{"name":"blaziken"},{"name":"mudkip"},{"name":"marshtomp"},{"name":"swampert"},{"name":"poochyena"},{"name":"mightyena"},{"name":"zigzagoon"},{"name":"linoone"},{"name":"wurmple"},{"name":"silcoon"},{"name":"beautifly"},{"name":"cascoon"},{"name":"dustox"},{"name":"lotad"},{"name":"lombre"},{"name":"ludicolo"},{"name":"seedot"},{"name":"nuzleaf"},{"name":"shiftry"},{"name":"taillow"},{"name":"swellow"},{"name":"wingull"},{"name":"pelipper"},{"name":"ralts"},{"name":"kirlia"},{"name":"gardevoir"},{"name":"surskit"},{"name":"masquerain"},{"name":"shroomish"},{"name":"breloom"},{"name":"slakoth"},{"name":"vigoroth"},{"name":"slaking"},{"name":"nincada"},{"name":"ninjask"},{"name":"shedinja"},{"name":"whismur"},{"name":"loudred"},{"name":"exploud"},{"name":"makuhita"},{"name":"hariyama"},{"name":"azurill"},{"name":"nosepass"},{"name":"skitty"},{"name":"delcatty"},{"name":"sableye"},{"name":"mawile"},{"name":"aron"},{"name":"lairon"},{"name":"aggron"},{"name":"meditite"},{"name":"medicham"},{"name":"electrike"},{"name":"manectric"},{"name":"plusle"},{"name":"minun"},{"name":"volbeat"},{"name":"illumise"},{"name":"roselia"},{"name":"gulpin"},{"name":"swalot"},{"name":"carvanha"},{"name":"sharpedo"},{"name":"wailmer"},{"name":"wailord"},{"name":"numel"},{"name":"camerupt"},{"name":"torkoal"},{"name":"spoink"},{"name":"grumpig"},{"name":"spinda"},{"name":"trapinch"},{"name":"vibrava"},{"name":"flygon"},{"name":"cacnea"},{"name":"cacturne"},{"name":"swablu"},{"name":"altaria"},{"name":"zangoose"},{"name":"seviper"},{"name":"lunatone"},{"name":"solrock"},{"name":"barboach"},{"name":"whiscash"},{"name":"corphish"},{"name":"crawdaunt"},{"name":"baltoy"},{"name":"claydol"},{"name":"lileep"},{"name":"cradily"},{"name":"anorith"},{"name":"armaldo"},{"name":"feebas"},{"name":"milotic"},{"name":"castform"},{"name":"kecleon"},{"name":"shuppet"},{"name":"banette"},{"name":"duskull"},{"name":"dusclops"},{"name":"tropius"},{"name":"chimecho"},{"name":"absol"},{"name":"wynaut"},{"name":"snorunt"},{"name":"glalie"},{"name":"spheal"},{"name":"sealeo"},{"name":"walrein"},{"name":"clamperl"},{"name":"huntail"},{"name":"gorebyss"},{"name":"relicanth"},{"name":"luvdisc"},{"name":"bagon"},{"name":"shelgon"},{"name":"salamence"},{"name":"beldum"},{"name":"metang"},{"name":"metagross"},{"name":"regirock"},{"name":"regice"},{"name":"registeel"},{"name":"latias"},{"name":"latios"},{"name":"kyogre"},{"name":"groudon"},{"name":"rayquaza"},{"name":"jirachi"},{"name":"deoxys-normal"},{"name":"turtwig"},{"name":"grotle"},{"name":"torterra"},{"name":"chimchar"},{"name":"monferno"},{"name":"infernape"},{"name":"piplup"},{"name":"prinplup"},{"name":"empoleon"},{"name":"starly"},{"name":"staravia"},{"name":"staraptor"},{"name":"bidoof"},{"name":"bibarel"},{"name":"kricketot"}];

let pokemonId = (pokemon_id) => {
    return pokemons[pokemon_id].name;
}

/**
 * Responds to any HTTP request that can provide a "message" field in the body.
 *
 * @param {!Object} req Cloud Function request context.
 * @param {!Object} res Cloud Function response context.
 */
exports.pokemon = (req, res) => {
  	const update = req.body;
    if(update.hasOwnProperty("message")) {

        let id_pokemon = update.message.text;
        if(399 < id_pokemon || id_pokemon < 0) {
            return res.json({
                method: 'sendMessage',
                chat_id: update.message.chat.id,
                text: "unknown pokemon"
            });
        }

        return res.json({
            method: 'sendMessage',
            chat_id: update.message.chat.id,
            text: pokemonId(id_pokemon)
        });
    }
    else {
        return res.json({
            method: 'sendMessage',
            chat_id: update.message.chat.id,
            text: "unknown pokemon"
          });;
    }
  };